---
const { client, slot, type = "in_article", responsive = true } = Astro.props;

const adConfigs = {
  header: {
    style: "display:block; width:100%; height:90px; margin:16px 0;",
    format: "horizontal"
  },
  in_article: {
    style: "display:block; width:100%; min-height:250px; margin:24px 0;",
    format: "auto"
  },
  sidebar: {
    style: "display:block; width:300px; height:250px; margin:16px 0;",
    format: "rectangle"
  },
  footer: {
    style: "display:block; width:100%; height:90px; margin:24px 0;",
    format: "horizontal"
  }
};

const config = adConfigs[type];
---

<div style="min-height: 250px; display: flex; align-items: center; justify-content: center; margin: 24px 0; background: #f8fafc; border: 1px solid #e5e7eb; border-radius: 8px; position: relative;">
  <ins class="adsbygoogle"
       style={config.style}
       data-ad-client={client}
       data-ad-slot={slot}
       data-ad-format={config.format}
       data-full-width-responsive={responsive.toString()}>
  </ins>
  
  <script>
    try {
      (adsbygoogle = window.adsbygoogle || []).push({});
    } catch (e) {
      console.log('AdSense loading...');
    }
  </script>
</div>
